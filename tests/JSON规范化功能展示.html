<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSONå­—ç¬¦ä¸²è§„èŒƒåŒ–åŠŸèƒ½å±•ç¤º</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            margin: 20px; 
            background-color: #f5f5f5;
            line-height: 1.6;
        }
        
        .demo-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .problem-overview {
            background: #fff3cd;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin-bottom: 30px;
        }
        
        .solution-overview {
            background: #d4edda;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #28a745;
            margin-bottom: 30px;
        }
        
        .test-cases {
            display: grid;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .test-case {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .test-case-header {
            background: #f8f9fa;
            padding: 12px 20px;
            border-bottom: 1px solid #dee2e6;
            font-weight: 600;
            color: #495057;
        }
        
        .test-case-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }
        
        .before, .after {
            padding: 15px;
        }
        
        .before {
            background: #fff5f5;
            border-right: 1px solid #dee2e6;
        }
        
        .after {
            background: #f0fff4;
        }
        
        .label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #495057;
        }
        
        .before .label {
            color: #dc3545;
        }
        
        .after .label {
            color: #28a745;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 12px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            overflow-x: auto;
            margin-bottom: 10px;
        }
        
        .before .code-block {
            background: #ffeaa7;
            border-color: #fdcb6e;
        }
        
        .after .code-block {
            background: #d1f2eb;
            border-color: #52c788;
        }
        
        .error-indicator {
            color: #dc3545;
            font-size: 12px;
            font-style: italic;
        }
        
        .success-indicator {
            color: #28a745;
            font-size: 12px;
            font-style: italic;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        
        .feature-icon {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .feature-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #495057;
        }
        
        .feature-desc {
            font-size: 14px;
            color: #6c757d;
        }
        
        .implementation-box {
            background: #e7f3ff;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
            margin-top: 30px;
        }
        
        .method-signature {
            background: #f1f3f4;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>ğŸ”§ JSONå­—ç¬¦ä¸²è§„èŒƒåŒ–åŠŸèƒ½</h1>
        
        <div class="problem-overview">
            <h3 style="margin-top: 0; color: #856404;">ğŸš¨ é—®é¢˜èƒŒæ™¯</h3>
            <p style="color: #856404; margin-bottom: 15px;">åœ¨å®é™…ä½¿ç”¨ä¸­ï¼ŒExcelå•å…ƒæ ¼ä¸­çš„JSONå­—ç¬¦ä¸²å¯èƒ½å­˜åœ¨å„ç§æ ¼å¼é—®é¢˜ï¼š</p>
            <ul style="color: #856404; margin-bottom: 0;">
                <li><strong>å•å¼•å·é—®é¢˜</strong>ï¼šJavaScriptå¯¹è±¡ä½¿ç”¨å•å¼•å·ï¼Œä½†JSONæ ‡å‡†è¦æ±‚åŒå¼•å·</li>
                <li><strong>å±æ€§åæ— å¼•å·</strong>ï¼šJavaScriptå¯¹è±¡çš„å±æ€§åå¯ä»¥ä¸åŠ å¼•å·</li>
                <li><strong>å°¾éšé€—å·</strong>ï¼šå¯¹è±¡æˆ–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ åçš„å¤šä½™é€—å·</li>
                <li><strong>JavaScriptç‰¹æ®Šå€¼</strong>ï¼šundefinedã€å‡½æ•°ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰JSONä¸æ”¯æŒçš„ç±»å‹</li>
                <li><strong>æ³¨é‡Š</strong>ï¼šJSONæ ‡å‡†ä¸æ”¯æŒæ³¨é‡Šï¼Œä½†æ•°æ®ä¸­å¯èƒ½åŒ…å«</li>
                <li><strong>æ ¼å¼æ··ä¹±</strong>ï¼šå¤šä½™çš„ç©ºæ ¼ã€æ¢è¡Œç­‰æ ¼å¼é—®é¢˜</li>
            </ul>
        </div>
        
        <div class="solution-overview">
            <h3 style="margin-top: 0; color: #155724;">âœ… è§£å†³æ–¹æ¡ˆ</h3>
            <p style="color: #155724; margin-bottom: 15px;">å®ç°æ™ºèƒ½JSONè§„èŒƒåŒ–åŠŸèƒ½ï¼Œè‡ªåŠ¨ä¿®å¤å¸¸è§çš„æ ¼å¼é—®é¢˜ï¼š</p>
            <ul style="color: #155724; margin-bottom: 0;">
                <li><strong>è‡ªåŠ¨ä¿®å¤</strong>ï¼šæ£€æµ‹å¹¶ä¿®å¤å¤šç§éæ ‡å‡†JSONæ ¼å¼</li>
                <li><strong>å‘åå…¼å®¹</strong>ï¼šæ”¯æŒæ ‡å‡†JSONçš„åŒæ—¶å…¼å®¹JavaScriptå¯¹è±¡æ ¼å¼</li>
                <li><strong>é”™è¯¯æç¤º</strong>ï¼šæ— æ³•ä¿®å¤æ—¶æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯</li>
                <li><strong>æ— æŸå¤„ç†</strong>ï¼šå°½å¯èƒ½ä¿ç•™åŸå§‹æ•°æ®çš„è¯­ä¹‰</li>
            </ul>
        </div>
        
        <h2>ğŸ“‹ æµ‹è¯•ç”¨ä¾‹å±•ç¤º</h2>
        
        <div class="test-cases">
            <!-- æµ‹è¯•ç”¨ä¾‹1ï¼šå•å¼•å·é—®é¢˜ -->
            <div class="test-case">
                <div class="test-case-header">ğŸ”§ å•å¼•å·è½¬åŒå¼•å·</div>
                <div class="test-case-content">
                    <div class="before">
                        <div class="label">ä¿®å¤å‰ï¼ˆæ— æ³•è§£æï¼‰</div>
                        <div class="code-block">{'name': 'John', 'age': 30}</div>
                        <div class="error-indicator">âŒ JSON.parse() ä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯</div>
                    </div>
                    <div class="after">
                        <div class="label">ä¿®å¤åï¼ˆå¯æ­£å¸¸è§£æï¼‰</div>
                        <div class="code-block">{"name": "John", "age": 30}</div>
                        <div class="success-indicator">âœ… æˆåŠŸè§£æä¸ºæ ‡å‡†JSON</div>
                    </div>
                </div>
            </div>
            
            <!-- æµ‹è¯•ç”¨ä¾‹2ï¼šå±æ€§åæ— å¼•å· -->
            <div class="test-case">
                <div class="test-case-header">ğŸ”§ å±æ€§åæ·»åŠ å¼•å·</div>
                <div class="test-case-content">
                    <div class="before">
                        <div class="label">ä¿®å¤å‰ï¼ˆJavaScriptå¯¹è±¡æ ¼å¼ï¼‰</div>
                        <div class="code-block">{name: "Alice", userId: 123, isActive: true}</div>
                        <div class="error-indicator">âŒ å±æ€§åç¼ºå°‘å¼•å·ï¼ŒJSONæ ‡å‡†ä¸æ”¯æŒ</div>
                    </div>
                    <div class="after">
                        <div class="label">ä¿®å¤åï¼ˆæ ‡å‡†JSONæ ¼å¼ï¼‰</div>
                        <div class="code-block">{"name": "Alice", "userId": 123, "isActive": true}</div>
                        <div class="success-indicator">âœ… å±æ€§åå·²æ·»åŠ åŒå¼•å·</div>
                    </div>
                </div>
            </div>
            
            <!-- æµ‹è¯•ç”¨ä¾‹3ï¼šå°¾éšé€—å· -->
            <div class="test-case">
                <div class="test-case-header">ğŸ”§ ç§»é™¤å°¾éšé€—å·</div>
                <div class="test-case-content">
                    <div class="before">
                        <div class="label">ä¿®å¤å‰ï¼ˆåŒ…å«å°¾éšé€—å·ï¼‰</div>
                        <div class="code-block">{"items": ["apple", "banana", "orange",], "count": 3,}</div>
                        <div class="error-indicator">âŒ å°¾éšé€—å·å¯¼è‡´è§£æå¤±è´¥</div>
                    </div>
                    <div class="after">
                        <div class="label">ä¿®å¤åï¼ˆç§»é™¤å°¾éšé€—å·ï¼‰</div>
                        <div class="code-block">{"items": ["apple", "banana", "orange"], "count": 3}</div>
                        <div class="success-indicator">âœ… å°¾éšé€—å·å·²æ¸…é™¤</div>
                    </div>
                </div>
            </div>
            
            <!-- æµ‹è¯•ç”¨ä¾‹4ï¼šJavaScriptç‰¹æ®Šå€¼ -->
            <div class="test-case">
                <div class="test-case-header">ğŸ”§ å¤„ç†JavaScriptç‰¹æ®Šå€¼</div>
                <div class="test-case-content">
                    <div class="before">
                        <div class="label">ä¿®å¤å‰ï¼ˆåŒ…å«undefinedå’Œå‡½æ•°ï¼‰</div>
                        <div class="code-block">{"name": "Bob", "value": undefined, "handler": function() { return true; }}</div>
                        <div class="error-indicator">âŒ undefinedå’Œå‡½æ•°ä¸æ˜¯æœ‰æ•ˆçš„JSONå€¼</div>
                    </div>
                    <div class="after">
                        <div class="label">ä¿®å¤åï¼ˆè½¬æ¢ä¸ºJSONå…¼å®¹å€¼ï¼‰</div>
                        <div class="code-block">{"name": "Bob", "value": null, "handler": "[Function]"}</div>
                        <div class="success-indicator">âœ… ç‰¹æ®Šå€¼å·²è½¬æ¢ä¸ºJSONå…¼å®¹æ ¼å¼</div>
                    </div>
                </div>
            </div>
            
            <!-- æµ‹è¯•ç”¨ä¾‹5ï¼šåŒ…å«æ³¨é‡Š -->
            <div class="test-case">
                <div class="test-case-header">ğŸ”§ ç§»é™¤æ³¨é‡Š</div>
                <div class="test-case-content">
                    <div class="before">
                        <div class="label">ä¿®å¤å‰ï¼ˆåŒ…å«æ³¨é‡Šï¼‰</div>
                        <div class="code-block">{
  "name": "Carol", // ç”¨æˆ·å§“å
  /* ç”¨æˆ·ID */ "id": 456,
  "active": true
}</div>
                        <div class="error-indicator">âŒ JSONä¸æ”¯æŒæ³¨é‡Šè¯­æ³•</div>
                    </div>
                    <div class="after">
                        <div class="label">ä¿®å¤åï¼ˆç§»é™¤æ³¨é‡Šï¼‰</div>
                        <div class="code-block">{ "name": "Carol", "id": 456, "active": true }</div>
                        <div class="success-indicator">âœ… æ³¨é‡Šå·²ç§»é™¤ï¼Œæ ¼å¼å·²ä¼˜åŒ–</div>
                    </div>
                </div>
            </div>
            
            <!-- æµ‹è¯•ç”¨ä¾‹6ï¼šå¤æ‚åµŒå¥—å¯¹è±¡ -->
            <div class="test-case">
                <div class="test-case-header">ğŸ”§ å¤æ‚åµŒå¥—å¯¹è±¡ä¿®å¤</div>
                <div class="test-case-content">
                    <div class="before">
                        <div class="label">ä¿®å¤å‰ï¼ˆå¤šç§é—®é¢˜æ··åˆï¼‰</div>
                        <div class="code-block">{
  name: 'Dave',
  profile: {
    age: undefined,
    skills: ['JS', 'Vue',], // æŠ€èƒ½åˆ—è¡¨
    regex: /test/g,
  },
  isAdmin: true,
}</div>
                        <div class="error-indicator">âŒ å¤šç§æ ¼å¼é—®é¢˜ï¼šæ— å¼•å·å±æ€§åã€å•å¼•å·ã€undefinedã€æ­£åˆ™ã€å°¾éšé€—å·ã€æ³¨é‡Š</div>
                    </div>
                    <div class="after">
                        <div class="label">ä¿®å¤åï¼ˆå…¨éƒ¨é—®é¢˜å·²ä¿®å¤ï¼‰</div>
                        <div class="code-block">{ "name": "Dave", "profile": { "age": null, "skills": ["JS", "Vue"], "regex": "[RegExp]" }, "isAdmin": true }</div>
                        <div class="success-indicator">âœ… æ‰€æœ‰æ ¼å¼é—®é¢˜å·²ä¿®å¤ï¼Œå¯æ­£å¸¸è§£æ</div>
                    </div>
                </div>
            </div>
        </div>
        
        <h2>ğŸ”¨ åŠŸèƒ½ç‰¹æ€§</h2>
        
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">ğŸ”„</div>
                <div class="feature-title">æ™ºèƒ½è½¬æ¢</div>
                <div class="feature-desc">è‡ªåŠ¨è¯†åˆ«å•å¼•å·ã€æ— å¼•å·å±æ€§åç­‰JavaScriptå¯¹è±¡æ ¼å¼ï¼Œè½¬æ¢ä¸ºæ ‡å‡†JSON</div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ§¹</div>
                <div class="feature-title">æ ¼å¼æ¸…ç†</div>
                <div class="feature-desc">ç§»é™¤å°¾éšé€—å·ã€æ³¨é‡Šã€å¤šä½™ç©ºæ ¼ç­‰å½±å“è§£æçš„æ ¼å¼é—®é¢˜</div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ› ï¸</div>
                <div class="feature-title">ç‰¹æ®Šå€¼å¤„ç†</div>
                <div class="feature-desc">å°†undefinedã€å‡½æ•°ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰éJSONå€¼è½¬æ¢ä¸ºå…¼å®¹æ ¼å¼</div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ“Š</div>
                <div class="feature-title">æ•°å€¼è§„èŒƒåŒ–</div>
                <div class="feature-desc">å¤„ç†NaNã€Infinityç­‰ç‰¹æ®Šæ•°å€¼ï¼Œè½¬æ¢ä¸ºnullæˆ–åˆé€‚çš„è¡¨ç¤º</div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ”</div>
                <div class="feature-title">è¯¦ç»†é”™è¯¯æç¤º</div>
                <div class="feature-desc">å½“æ— æ³•ä¿®å¤æ—¶ï¼Œæä¾›åŸå§‹é”™è¯¯å’Œè§„èŒƒåŒ–åçš„é”™è¯¯ä¿¡æ¯</div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">âš¡</div>
                <div class="feature-title">æ€§èƒ½ä¼˜åŒ–</div>
                <div class="feature-desc">å…ˆå°è¯•ç›´æ¥è§£æï¼Œå¤±è´¥åå†è¿›è¡Œè§„èŒƒåŒ–ï¼Œå‡å°‘ä¸å¿…è¦çš„å¤„ç†</div>
            </div>
        </div>
        
        <div class="implementation-box">
            <h3 style="margin-top: 0; color: #0056b3;">ğŸ’» æŠ€æœ¯å®ç°</h3>
            <p style="color: #0056b3; margin-bottom: 15px;">åœ¨JsonProcessorä¸­æ–°å¢äº†ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼š</p>
            
            <div class="method-signature">
                <strong>normalizeJsonString(jsonString)</strong>
                è§„èŒƒåŒ–JSONå­—ç¬¦ä¸²ï¼Œä¿®å¤å„ç§æ ¼å¼é—®é¢˜
            </div>
            
            <div class="method-signature">
                <strong>safeParseJson(jsonString)</strong>
                å®‰å…¨è§£æJSONï¼Œè‡ªåŠ¨åº”ç”¨è§„èŒƒåŒ–å¤„ç†
            </div>
            
            <h4 style="color: #0056b3;">å¤„ç†æµç¨‹ï¼š</h4>
            <ol style="color: #0056b3;">
                <li>é¦–å…ˆå°è¯•ç›´æ¥ä½¿ç”¨JSON.parse()è§£æ</li>
                <li>å¦‚æœå¤±è´¥ï¼Œåº”ç”¨normalizeJsonString()è¿›è¡Œè§„èŒƒåŒ–</li>
                <li>å¯¹è§„èŒƒåŒ–åçš„å­—ç¬¦ä¸²å†æ¬¡å°è¯•è§£æ</li>
                <li>å¦‚æœä»ç„¶å¤±è´¥ï¼Œæä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯</li>
            </ol>
            
            <h4 style="color: #0056b3;">é›†æˆæ–¹å¼ï¼š</h4>
            <p style="color: #0056b3; margin-bottom: 0;">
                æ‰€æœ‰ç°æœ‰çš„JSONå¤„ç†æ–¹æ³•ï¼ˆisJsonDataã€extractJsonDataã€getJsonDataTypeç­‰ï¼‰éƒ½å·²æ›´æ–°ä¸ºä½¿ç”¨safeParseJson()ï¼Œ
                ç¡®ä¿æ•´ä¸ªç³»ç»Ÿéƒ½èƒ½å—ç›ŠäºJSONè§„èŒƒåŒ–åŠŸèƒ½ã€‚
            </p>
        </div>
        
        <div style="background: #f8f9fa; padding: 15px; border-radius: 6px; margin-top: 30px; text-align: center;">
            <h4 style="color: #6c757d; margin: 0;">ğŸ‰ ç°åœ¨å¯ä»¥å¤„ç†å„ç§éæ ‡å‡†JSONæ ¼å¼äº†ï¼</h4>
            <p style="color: #6c757d; margin: 5px 0 0 0; font-size: 14px;">
                ç”¨æˆ·å†ä¹Ÿä¸ç”¨æ‹…å¿ƒExcelä¸­çš„JSONæ•°æ®æ ¼å¼é—®é¢˜ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¿®å¤å¹¶æ­£ç¡®è§£æã€‚
            </p>
        </div>
    </div>
</body>
</html>