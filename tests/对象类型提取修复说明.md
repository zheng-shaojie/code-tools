# 对象类型JSON数据提取测试

## 修复的问题
当JSON数据类型是对象（object）而不是数组时，之前的代码会错误地显示数组分隔符配置选项，导致提取失败。

## 修复方案

### 1. 修改updateColumnSelection方法
- 当检测到数据类型为数组时，设置extractionType为'array_string'并显示数组相关配置
- 当检测到数据类型为对象或基本类型时，清除extractionType和数组相关配置
- 确保只有对象和基本类型使用jsonPath进行普通的JSON路径提取

### 2. 修改createNewRule方法
- 将默认extractionType从'array_string'改为null
- 让数据类型检测决定使用哪种提取方式

### 3. 修改数据提取验证逻辑
- 对于数组类型（array_string/array_expand），不需要jsonPath
- 对于对象类型和基本类型，需要有效的jsonPath

## 测试用例

### 对象类型JSON数据示例：
```json
{
  "user": {
    "id": 123,
    "name": "John Doe",
    "email": "john@example.com"
  },
  "status": "active",
  "created_at": "2023-01-01"
}
```

### 数组类型JSON数据示例：
```json
[
  {"name": "JavaScript", "level": "expert"},
  {"name": "Python", "level": "intermediate"},
  {"name": "Go", "level": "beginner"}
]
```

## 预期行为

### 对象类型数据：
- 显示数据类型为"对象类型"
- 不显示"提取类型"选择器
- 不显示"分隔符"输入框
- 只显示"JSON路径"输入框
- 可以使用如"$.user.name"这样的路径提取嵌套字段

### 数组类型数据：
- 显示数据类型为"数组类型 (共N个元素)"
- 显示"提取类型"选择器（数组转字符串/数组展开）
- 当选择"数组转字符串"时显示"分隔符"输入框
- 显示"数组元素路径"输入框和路径建议

## 修复效果
- 对象类型数据不再出现错误的分隔符配置
- 提取逻辑根据数据类型正确选择处理方式
- 避免了对象数据使用数组处理逻辑导致的提取失败问题